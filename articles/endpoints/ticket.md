# Эндпоинт с API талонов

## Выдача талона
**Тип эндпоинта**

GET

**Входные параметры**

|Параметр|Тип|Обязательность|Комментарий|
|--|--|--|--|
|TargetCode|int|yes|Код цели\отдела|

**Алгоритм**

1. Проверяется корректность указания TargetCode. Если TargetCode указан некорректно - вернуть в ответ код 400.
2. Определяется префикс указанного отдела\цели.
3. Очередь блокируется для добавления новых записей другими процессами. Из очереди считывается последний номер для указанного отдела\цели.
4. Генерируется следующий номер, к которому конкатенируется префикс указанного отдела\цели (например П41).
5. Новый номер добавляется в очередь. Если добавление прошло успешно, блокировка с очереди снимается. Если добавление прошло с ошибками - в ответ вернуть код 500.
6. В ответ формируется json с номером талона.

**Выходные параметры**

|Параметр|Тип|Обязательность|Комментарий|
|--|--|--|--|
|TicketNumber|string|yes|Номер талона|